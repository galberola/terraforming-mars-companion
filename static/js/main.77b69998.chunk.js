(this["webpackJsonpterraforming-mars-companion"]=this["webpackJsonpterraforming-mars-companion"]||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){},16:function(t,e,n){"use strict";n.r(e);var o,c=n(0),i=n(2),r=n.n(i),s=n(8),a=n.n(s),u=(n(14),n(15),n(1)),d=n(3),l=n(4),m=n(6),j=n(5);!function(t){t[t.ADD=0]="ADD",t[t.SUB=1]="SUB"}(o||(o={}));var b=function(t){Object(m.a)(n,t);var e=Object(j.a)(n);function n(){var t;Object(d.a)(this,n);for(var o=arguments.length,c=new Array(o),i=0;i<o;i++)c[i]=arguments[i];return(t=e.call.apply(e,[this].concat(c))).numberInputRef=null,t}return Object(l.a)(n,[{key:"onClick",value:function(t){var e=1;if(this.numberInputRef){var n=parseInt(this.numberInputRef.value);this.numberInputRef.value="",0==isNaN(n)&&(e=n)}t==o.SUB&&(e=-e),console.log("Attribute Qty [".concat(e,"]")),this.props.onAddQuantity(e)}},{key:"render",value:function(){var t=this,e="resource-input";return this.props.isProduction&&(e+=" resource-input-production"),!0===this.props.isProduction?Object(c.jsx)("div",{className:e,children:Object(c.jsxs)("div",{className:"row no-gutters",children:[Object(c.jsx)("p",{className:"col-1 col-sm-1"}),Object(c.jsx)("input",{type:"button",className:"btn btn-danger col-2 col-sm-2",onClick:function(e){return t.onClick(o.SUB)},value:"-"}),Object(c.jsx)("p",{className:"col-1 col-sm-1"}),Object(c.jsx)("p",{className:"value col-4 col-sm-4 align-self-center",children:this.props.amount}),Object(c.jsx)("p",{className:"col-1 col-sm-1"}),Object(c.jsx)("input",{type:"button",className:"btn btn-success col-2 col-sm-2",onClick:function(e){return t.onClick(o.ADD)},value:"+"}),Object(c.jsx)("p",{className:"col-1 col-sm-1"})]})}):Object(c.jsxs)("div",{className:e,children:[Object(c.jsx)("p",{className:"value",children:this.props.amount}),Object(c.jsxs)("div",{className:"row no-gutters",children:[Object(c.jsx)("p",{className:"col-1 col-sm-1"}),Object(c.jsx)("input",{type:"button",className:"btn btn-danger col-2 col-sm-2",onClick:function(e){return t.onClick(o.SUB)},value:"-"}),Object(c.jsx)("p",{className:"col-1 col-sm-1"}),Object(c.jsx)("input",{type:"number",className:"col-4 col-sm-4 align-self-center",ref:function(e){return t.numberInputRef=e}}),Object(c.jsx)("p",{className:"col-1 col-sm-1"}),Object(c.jsx)("input",{type:"button",className:"btn btn-success col-2 col-sm-2",onClick:function(e){return t.onClick(o.ADD)},value:"+"}),Object(c.jsx)("p",{className:"col-1 col-sm-1"})]})]})}}]),n}(i.Component);function f(t){var e=t.hideProduction?void 0:Object(c.jsx)(b,{amount:t.production,isProduction:!0,onAddQuantity:function(e){return t.onProductionModified(t.name,e)}});return Object(c.jsxs)("div",{className:"resource-item "+t.className,children:[Object(c.jsx)("img",{alt:t.name,src:t.icon,width:"32",height:"32"}),Object(c.jsx)(b,{amount:t.amount,onAddQuantity:function(e){return t.onAmountModified(t.name,e)}}),e]})}var p=function(t){Object(m.a)(n,t);var e=Object(j.a)(n);function n(t){var o;return Object(d.a)(this,n),(o=e.call(this,t)).itemsRenderer=void 0,o.state={generation:1,resources:{TR:{name:"TR",amount:20,production:0,icon:o.getImageUrl("tr")},"M\u20ac":{name:"M\u20ac",amount:0,production:0,icon:o.getImageUrl("megacredit")},Steel:{name:"Steel",amount:0,production:0,icon:o.getImageUrl("steel")},Titanium:{name:"Titanium",amount:0,production:0,icon:o.getImageUrl("titanium")},Plant:{name:"Plant",amount:0,production:0,icon:o.getImageUrl("plant")},Energy:{name:"Energy",amount:0,production:0,icon:o.getImageUrl("power")},Heat:{name:"Heat",amount:0,production:0,icon:o.getImageUrl("heat")}}},o}return Object(l.a)(n,[{key:"getImageUrl",value:function(t){return"".concat("/terraforming-mars-companion","/img/resources/").concat(t,".png")}},{key:"onAmountModified",value:function(t,e){var n=Object(u.a)({},this.state.resources);n[t].amount+=e,this.setState({resources:n})}},{key:"onProductionModified",value:function(t,e){var n=Object(u.a)({},this.state.resources);n[t].production+=e,this.setState({resources:n})}},{key:"onTriggerProductionPhase",value:function(){console.log("Production phase triggered");var t=Object(u.a)({},this.state.resources);t.Heat.amount+=t.Energy.amount,t.Energy.amount=0,Object.keys(t).forEach((function(e){t[e].amount+=t[e].production})),t["M\u20ac"].amount+=t.TR.amount,this.setState({generation:this.state.generation+1,resources:t})}},{key:"render",value:function(){var t=this,e="col-6 col-sm-6 col-md-4";return Object(c.jsxs)("div",{className:"resource-tab container",children:[Object(c.jsx)("div",{className:"row no-gutters",children:Object(c.jsx)(f,Object(u.a)(Object(u.a)({className:e},this.state.resources.TR),{},{hideProduction:!0,onAmountModified:function(e,n){return t.onAmountModified(e,n)},onProductionModified:function(){}}))}),Object(c.jsxs)("div",{className:"row no-gutters",children:[Object(c.jsx)(f,Object(u.a)(Object(u.a)({className:e},this.state.resources["M\u20ac"]),{},{onAmountModified:function(e,n){return t.onAmountModified(e,n)},onProductionModified:function(e,n){return t.onProductionModified(e,n)}})),Object(c.jsx)(f,Object(u.a)(Object(u.a)({className:e},this.state.resources.Steel),{},{onAmountModified:function(e,n){return t.onAmountModified(e,n)},onProductionModified:function(e,n){return t.onProductionModified(e,n)}})),Object(c.jsx)(f,Object(u.a)(Object(u.a)({className:e},this.state.resources.Titanium),{},{onAmountModified:function(e,n){return t.onAmountModified(e,n)},onProductionModified:function(e,n){return t.onProductionModified(e,n)}})),Object(c.jsx)(f,Object(u.a)(Object(u.a)({className:e},this.state.resources.Plant),{},{onAmountModified:function(e,n){return t.onAmountModified(e,n)},onProductionModified:function(e,n){return t.onProductionModified(e,n)}})),Object(c.jsx)(f,Object(u.a)(Object(u.a)({className:e},this.state.resources.Energy),{},{onAmountModified:function(e,n){return t.onAmountModified(e,n)},onProductionModified:function(e,n){return t.onProductionModified(e,n)}})),Object(c.jsx)(f,Object(u.a)(Object(u.a)({className:e},this.state.resources.Heat),{},{onAmountModified:function(e,n){return t.onAmountModified(e,n)},onProductionModified:function(e,n){return t.onProductionModified(e,n)}}))]}),Object(c.jsxs)("p",{className:"generation",children:["Generation: ",this.state.generation]}),Object(c.jsx)("input",{type:"button",className:"btn btn-primary production-btn",onClick:function(e){return t.onTriggerProductionPhase()},value:"Production phase"})]})}}]),n}(i.Component);var O=function(){return Object(c.jsx)("div",{className:"App container",children:Object(c.jsx)(p,{})})},h=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(e){var n=e.getCLS,o=e.getFID,c=e.getFCP,i=e.getLCP,r=e.getTTFB;n(t),o(t),c(t),i(t),r(t)}))};a.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(O,{})}),document.getElementById("root")),h()}},[[16,1,2]]]);
//# sourceMappingURL=main.77b69998.chunk.js.map